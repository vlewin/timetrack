#clock.clock-container
  %a.clock.center
    %ul
      %li#hours= Time.now.strftime("%H")
      %li#point :
      %li#min= Time.now.strftime("%M")
      %li#point :
      %li#sec= Time.now.strftime("%S")
.clearfix

#timetrack-form.center{:hidden =>false}
  = render "form"

#calendar-head
  %h2= "#{@date.strftime("%A")}, #{@date.strftime("%e %B  ")} (#{@date.strftime("%V")})"
  %h2.month-switcher
    = link_to "<", :date => (@date.beginning_of_month-1).strftime("%Y-%m-%d")
    = @date.strftime("%B %Y")
    = link_to ">", :date => (@date.end_of_month+1).strftime("%Y-%m-%d")

#calendar
  #calendar-body
    %table
      %tr
      -WEEKDAYS.each do |weekday|
        %th= weekday
      -@days.to_a.in_groups_of(7).each do |week|
        %tr
          - week.each do |date|
            - if date
              %td{ :class => (("active") if date == Date.today) }
                - if isWeekend?(date)
                  %h1.weekend= date.day
                -else
                  -if @timetracks.has_key?(date)
                    %a.date-select{ :href=>"", "data-date" => "#{date.strftime("%Y-%m-%d")}",
                      "data-title" => "#{date.strftime("%Y-%m-%d")}",
                      "data-content" => "#{@timetracks[date].start.strftime("%H:%M")} - #{@timetracks[date].finish.strftime("%H:%M")} - #{@timetracks[date].duration_human_friendly}" }
                      %h1.recorded= date.day
                  -else
                    %a.date-select{:href=>"", "data-date" => "#{date.strftime("%Y-%m-%d")}" }
                      %h1= date.day


            - else
              %td &nbsp;
